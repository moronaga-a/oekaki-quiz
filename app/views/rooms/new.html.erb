<div class="min-h-screen flex items-center justify-center bg-amber-50" data-controller="room-form">
  <div class="bg-orange-100 p-8 border-4 border-amber-900 rounded-lg shadow-[8px_8px_0px_0px_rgba(120,53,15,1)] max-w-md w-full">
    <h1 class="text-4xl font-black text-center text-amber-900 mb-8 tracking-tight">
      🎨 お絵描きクイズ 🎨
    </h1>

    <div class="space-y-4">
      <!-- 名前入力（共通） -->
      <div>
        <label class="block text-sm font-bold text-amber-900 uppercase mb-2">あなたの名前</label>
        <%= text_field_tag :player_name, "",
            placeholder: "名前を入力",
            maxlength: Player::MAX_NAME_LENGTH,
            data: { room_form_target: "playerName", action: "input->room-form#updateButtons" },
            class: "w-full px-4 py-3 border-4 border-amber-900 bg-white focus:outline-none focus:bg-yellow-50 text-center text-lg font-black text-amber-900 rounded-lg" %>
      </div>

      <!-- ルームID入力（オプション） -->
      <div>
        <label class="block text-sm font-bold text-amber-900 uppercase mb-2">ルームID（参加する場合のみ）</label>
        <%= text_field_tag :room_id, "",
            placeholder: "ABC123",
            maxlength: 6,
            data: { room_form_target: "roomId", action: "input->room-form#updateButtons" },
            class: "w-full px-4 py-3 border-4 border-amber-900 bg-yellow-50 focus:outline-none focus:bg-white text-center uppercase text-2xl font-black tracking-widest text-amber-900 rounded-lg" %>
      </div>

      <div class="relative">
        <div class="absolute inset-0 flex items-center">
          <div class="w-full border-t-4 border-dotted border-amber-900"></div>
        </div>
        <div class="relative flex justify-center text-sm">
          <span class="px-3 bg-orange-100 text-amber-900 font-bold uppercase">選択してください</span>
        </div>
      </div>

      <!-- ルーム作成ボタン -->
      <%= form_with url: rooms_path, method: :post, local: true, data: { room_form_target: "createForm" } do |f| %>
        <%= hidden_field_tag :player_name, "", data: { room_form_target: "createPlayerName" } %>
        <%= f.submit "新しいルームを作成",
            data: { room_form_target: "createButton" },
            class: "w-full bg-amber-600 hover:bg-amber-700 text-white font-black py-4 px-6 border-4 border-amber-900 rounded-lg shadow-[4px_4px_0px_0px_rgba(120,53,15,1)] hover:shadow-[2px_2px_0px_0px_rgba(120,53,15,1)] active:shadow-none transition-all uppercase tracking-wide disabled:bg-gray-300 disabled:text-gray-500 disabled:border-gray-400 disabled:shadow-none disabled:cursor-not-allowed disabled:hover:bg-gray-300 disabled:hover:shadow-none" %>
      <% end %>

      <!-- ルーム参加ボタン -->
      <%= form_with url: root_path, method: :get, local: true, data: { room_form_target: "joinForm" }, class: "mt-3" do |f| %>
        <%= hidden_field_tag :player_name, "", data: { room_form_target: "joinPlayerName" } %>
        <%= hidden_field_tag :room_id, "", data: { room_form_target: "joinRoomId" } %>
        <%= f.submit "既存ルームに参加",
            data: { room_form_target: "joinButton" },
            class: "w-full bg-orange-600 hover:bg-orange-700 text-white font-black py-4 px-6 border-4 border-amber-900 rounded-lg shadow-[4px_4px_0px_0px_rgba(120,53,15,1)] hover:shadow-[2px_2px_0px_0px_rgba(120,53,15,1)] active:shadow-none transition-all uppercase tracking-wide disabled:bg-gray-300 disabled:text-gray-500 disabled:border-gray-400 disabled:shadow-none disabled:cursor-not-allowed disabled:hover:bg-gray-300 disabled:hover:shadow-none" %>
      <% end %>
    </div>

    <% if flash[:alert] %>
      <div class="mt-4 p-3 bg-red-200 border-4 border-red-900 text-red-900 font-bold">
        ⚠️ <%= flash[:alert] %>
      </div>
    <% end %>
  </div>
</div>
